<view class="basket"><view class="basket-content"><block wx:for="{{basketList}}" wx:for-item="item" wx:for-index="basketIndex" wx:key="id"><view class="basket-item"><view class="header"><view class="title">{{item.menuName}}</view><view class="arrow">></view></view><view class="action"><view data-event-opts="{{[['tap',[['addIngredientItem',['$0',basketIndex],[[['basketList','id',item.id]]]]]]]}}" class="add-ingredient ingredient" bindtap="__e">+添加用料</view><view data-event-opts="{{[['tap',[['delIngredient',['$event']]]]]}}" class="add-ingredient ingredient" bindtap="__e">删除这个清单</view></view><view class="ingredient-list"><view class="ingredient-item"><radio-group><block wx:for="{{item.ingredients}}" wx:for-item="ingredient" wx:for-index="index" wx:key="id"><view data-event-opts="{{[['tap',[['editIngredientItem',['$0'],[[['basketList','id',item.id],['ingredients','id',ingredient.id]]]]]]]}}" bindtap="__e"><block wx:if="{{!ingredient.checked}}"><view class="radio-group"><label data-event-opts="{{[['tap',[['radioChange',['$0'],[[['basketList','id',item.id],['ingredients','id',ingredient.id]]]]]]]}}" bindtap="__e"><radio value="{{ingredient.id}}"></radio></label><view class="radio-group-info"><view>{{ingredient.foodname}}</view><view class="foodname">{{(ingredient.amount?ingredient.amount:'')+(ingredient.unit?ingredient.unit:'')}}</view></view></view></block></view></block></radio-group></view></view><view class="title-state">已完成</view><view class="ingredient-list"><view class="ingredient-item"><checkbox-group><block wx:for="{{item.ingredients}}" wx:for-item="ingredient" wx:for-index="index" wx:key="id"><view><block wx:if="{{ingredient.checked}}"><view class="radio-group"><label data-event-opts="{{[['tap',[['cancleRadioChange',['$0'],[[['basketList','id',item.id],['ingredients','id',ingredient.id]]]]]]]}}" catchtap="__e"><radio value="{{ingredient.checked}}" checked="{{ingredient.checked}}"></radio></label><view class="radio-group-info"><view>{{ingredient.foodname}}</view><view class="foodname">{{(ingredient.amount?ingredient.amount:'')+(ingredient.unit?ingredient.unit:'')}}</view></view></view></block></view></block></checkbox-group></view></view></view></block></view><uni-popup class="vue-ref" vue-id="1" type="bottom" animation="{{true}}" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-con"><view class="action-header"><view class="title">删除/编辑  用料</view><view class="action"><view class="del">删除</view><view class="save">完成</view><view data-event-opts="{{[['tap',[['save',['$event']]]]]}}" class="save" bindtap="__e">保存</view></view></view><view class="aciotn-con"><view class="item"><text class="item-name">用料名</text><input class="edit-input" type="text" data-event-opts="{{[['input',[['__set_model',['$0','foodname','$event',[]],['ingredient']]]]]}}" value="{{ingredient.foodname}}" bindinput="__e"/></view><view class="item"><text class="item-name">数目|备注</text><input class="edit-input" type="text" data-event-opts="{{[['input',[['__set_model',['$0','amount','$event',[]],['ingredient']]]]]}}" value="{{ingredient.amount}}" bindinput="__e"/></view></view></view></uni-popup></view>